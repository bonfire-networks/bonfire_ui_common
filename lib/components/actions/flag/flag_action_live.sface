<div
  class="flex flex-col items-stretch"
  x-data="{modal_flagging_activity: false}"
>
  {#if e(@my_flag, :id, nil)}
    <button disabled="disabled" class="flex items-center p-2 text-neutral">
      {l "You already flagged this"}
    </button>
  {#else}
    <Bonfire.UI.Common.OpenModalLive
    id={ComponentID.new(Bonfire.UI.Common.OpenModalLive, @object)} 
    title_text={e(@label, l "Flag this object")}
  >
    {l "The admins will review the content and might get in touch with you or the author for clarification. They may then delete it and/or block the person or originating instance if appropriate."}
    <:open_btn>
      <div class="flex items-center text-sm text-neutral">
        <Icon solid="Flag" class="w-4 h-4 mr-2 shrink-0 text-neutral text-opacity-70" />
        <span class="truncate ellipsis"> {e(@label, l "Flag this object")}</span>
      </div>
    </:open_btn>
    <:action_btns>
      <button 
        phx-click={"Bonfire.Social.Flags:flag"} 
        phx-value-id={e(@object, :id, "")}
        class="btn btn-sm btn-error">
      {l "Flag"}
    </button>
    </:action_btns>

  </Bonfire.UI.Common.OpenModalLive>
  {/if}
</div>

